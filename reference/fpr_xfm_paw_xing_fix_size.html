<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Transform PSCIS Assessment Worksheet Data by Calculating Replacement Structure Type and Size — fpr_xfm_paw_xing_fix_size • fpr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transform PSCIS Assessment Worksheet Data by Calculating Replacement Structure Type and Size — fpr_xfm_paw_xing_fix_size"><meta name="description" content="This function determines the type and size of the replacement structure for BC Provincial
Stream Crossing Inventory System (PSCIS) data based on the barrier result,
downstream channel width, and the amount of road fill above the crossing."><meta property="og:description" content="This function determines the type and size of the replacement structure for BC Provincial
Stream Crossing Inventory System (PSCIS) data based on the barrier result,
downstream channel width, and the amount of road fill above the crossing."><meta property="og:image" content="http://www.newgraphenvironment.com/fpr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fpr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NewGraphEnvironment/fpr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Transform PSCIS Assessment Worksheet Data by Calculating Replacement Structure Type and Size</h1>
      <small class="dont-index">Source: <a href="https://github.com/NewGraphEnvironment/fpr/blob/main/R/fpr_xfm_paw_xing_fix_size.R" class="external-link"><code>R/fpr_xfm_paw_xing_fix_size.R</code></a></small>
      <div class="d-none name"><code>fpr_xfm_paw_xing_fix_size.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function determines the type and size of the replacement structure for BC Provincial
Stream Crossing Inventory System (PSCIS) data based on the barrier result,
downstream channel width, and the amount of road fill above the crossing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fpr_xfm_paw_xing_fix_size</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  col_barrier_result <span class="op">=</span> <span class="va">barrier_result</span>,</span>
<span>  col_downstream_channel_width_meters <span class="op">=</span> <span class="va">downstream_channel_width_meters</span>,</span>
<span>  col_fill_depth_meters <span class="op">=</span> <span class="va">fill_depth_meters</span>,</span>
<span>  col_crossing_fix <span class="op">=</span> <span class="va">crossing_fix</span>,</span>
<span>  col_recommended_diameter_or_span_meters <span class="op">=</span> <span class="va">recommended_diameter_or_span_meters</span>,</span>
<span>  fill_dpth <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  brdg_wdth <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  chn_wdth_max <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  fill_dpth_mult <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  chan_wdth_min_brdg <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  stream_wdth_max_ss <span class="op">=</span> <span class="fl">3.5</span>,</span>
<span>  fill_dpth_max <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  ss_span_max <span class="op">=</span> <span class="fl">4.5</span>,</span>
<span>  chan_wdth_to_span_ok <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  ss_span_min <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>[dataframe] A dataframe containing the PSCIS data.</p></dd>


<dt id="arg-col-barrier-result">col_barrier_result<a class="anchor" aria-label="anchor" href="#arg-col-barrier-result"></a></dt>
<dd><p>[character] A column name specifying the barrier result
(Barrier, Potential, Passable, or Unknown), as a string or tidy-select syntax.
Default is `barrier_result`.</p></dd>


<dt id="arg-col-downstream-channel-width-meters">col_downstream_channel_width_meters<a class="anchor" aria-label="anchor" href="#arg-col-downstream-channel-width-meters"></a></dt>
<dd><p>[character] A column name specifying
the downstream channel width, as a string or tidy-select syntax.
Default is `downstream_channel_width_meters`.</p></dd>


<dt id="arg-col-fill-depth-meters">col_fill_depth_meters<a class="anchor" aria-label="anchor" href="#arg-col-fill-depth-meters"></a></dt>
<dd><p>[character] A column name specifying the fill depth
above the crossing, as a string or tidy-select syntax. Default is `fill_depth_meters`.</p></dd>


<dt id="arg-col-crossing-fix">col_crossing_fix<a class="anchor" aria-label="anchor" href="#arg-col-crossing-fix"></a></dt>
<dd><p>[character] A column name for the output recommended
crossing fix, as a string or tidy-select syntax. Default is `crossing_fix`.</p></dd>


<dt id="arg-col-recommended-diameter-or-span-meters">col_recommended_diameter_or_span_meters<a class="anchor" aria-label="anchor" href="#arg-col-recommended-diameter-or-span-meters"></a></dt>
<dd><p>[character] A column name for the
output recommended structure diameter or span (size), as a string or tidy-select
syntax. Default is `recommended_diameter_or_span_meters`.</p></dd>


<dt id="arg-fill-dpth">fill_dpth<a class="anchor" aria-label="anchor" href="#arg-fill-dpth"></a></dt>
<dd><p>[numeric] Standard fill depth in meters above which additional
fill starts to increase the required bridge span. Default is `3`.</p></dd>


<dt id="arg-brdg-wdth">brdg_wdth<a class="anchor" aria-label="anchor" href="#arg-brdg-wdth"></a></dt>
<dd><p>[numeric] Standard bridge width in meters used as the base span
for Barrier/Potential crossings when a bridge is recommended. Default is `15`.</p></dd>


<dt id="arg-chn-wdth-max">chn_wdth_max<a class="anchor" aria-label="anchor" href="#arg-chn-wdth-max"></a></dt>
<dd><p>[numeric] Maximum channel width in meters at which the base
bridge width is considered sufficient before span extensions are applied.
Default is `5`.</p></dd>


<dt id="arg-fill-dpth-mult">fill_dpth_mult<a class="anchor" aria-label="anchor" href="#arg-fill-dpth-mult"></a></dt>
<dd><p>[numeric] Multiplier applied to additional fill depth above
`fill_dpth`. For every 1m deeper than `fill_dpth`, `fill_dpth_mult` meters of
additional bridge span are required. Default is `3`.</p></dd>


<dt id="arg-chan-wdth-min-brdg">chan_wdth_min_brdg<a class="anchor" aria-label="anchor" href="#arg-chan-wdth-min-brdg"></a></dt>
<dd><p>[numeric] Channel width in meters above which a bridge
may be required for Barrier/Potential crossings. Default is `2`.</p></dd>


<dt id="arg-stream-wdth-max-ss">stream_wdth_max_ss<a class="anchor" aria-label="anchor" href="#arg-stream-wdth-max-ss"></a></dt>
<dd><p>[numeric] Maximum channel width in meters for which
streambed simulation may be selected when fill depth exceeds `fill_dpth_max`.
Default is `3.5`.</p></dd>


<dt id="arg-fill-dpth-max">fill_dpth_max<a class="anchor" aria-label="anchor" href="#arg-fill-dpth-max"></a></dt>
<dd><p>[numeric] Fill depth threshold in meters above which
streambed simulation is selected when channel width is less than
`stream_wdth_max_ss`. Default is `5`.</p></dd>


<dt id="arg-ss-span-max">ss_span_max<a class="anchor" aria-label="anchor" href="#arg-ss-span-max"></a></dt>
<dd><p>[numeric] Maximum span in meters used for streambed simulation
structures. Default is `4.5`.</p></dd>


<dt id="arg-chan-wdth-to-span-ok">chan_wdth_to_span_ok<a class="anchor" aria-label="anchor" href="#arg-chan-wdth-to-span-ok"></a></dt>
<dd><p>[numeric] Amount in meters by which the structure
span may exceed the channel width before further span extensions are applied.
Default is `4`.</p></dd>


<dt id="arg-ss-span-min">ss_span_min<a class="anchor" aria-label="anchor" href="#arg-ss-span-min"></a></dt>
<dd><p>[numeric] Minimum span in meters used for streambed simulation
structures when a bridge is not recommended. Default is `3`.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>[dataframe] A dataframe with the specified columns for crossing fix and
  recommended diameter/span added or updated.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other xfm paw:
<code><a href="fpr_xfm_paw_all_scores_result.html">fpr_xfm_paw_all_scores_result()</a></code>,
<code><a href="fpr_xfm_paw_barrier_result.html">fpr_xfm_paw_barrier_result()</a></code>,
<code><a href="fpr_xfm_paw_score_cv_len.html">fpr_xfm_paw_score_cv_len()</a></code>,
<code><a href="fpr_xfm_paw_score_cv_slope.html">fpr_xfm_paw_score_cv_slope()</a></code>,
<code><a href="fpr_xfm_paw_score_embed.html">fpr_xfm_paw_score_embed()</a></code>,
<code><a href="fpr_xfm_paw_score_final.html">fpr_xfm_paw_score_final()</a></code>,
<code><a href="fpr_xfm_paw_score_outlet_drop.html">fpr_xfm_paw_score_outlet_drop()</a></code>,
<code><a href="fpr_xfm_paw_score_swr.html">fpr_xfm_paw_score_swr()</a></code>,
<code><a href="fpr_xfm_paw_swr.html">fpr_xfm_paw_swr()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  barrier_result <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Barrier"</span>, <span class="st">"Potential"</span>, <span class="st">"Other"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  downstream_channel_width_meters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">10</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  fill_depth_meters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">7</span>, <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate replacement structure type and recommended span</span></span></span>
<span class="r-in"><span><span class="fu">fpr_xfm_paw_xing_fix_size</span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   barrier_result downstream_channel_width_meters fill_depth_meters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        Barrier                               3                 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      Potential                              10                 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          Other                               3                 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fill_dpth_over                                    crossing_fix</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1              0          Replace with New Open Bottom Structure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              4          Replace with New Open Bottom Structure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3              3 Replace Structure with Streambed Simulation CBS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   recommended_diameter_or_span_meters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                  15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                                  27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                   3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Allan Irvine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

